# Drishti API - Production Environment Configuration
# WARNING: This file contains sensitive information. Never commit to version control.

# Application Configuration
NODE_ENV=production
PORT=3001
API_VERSION=v1
APP_NAME=Drishti API

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://username:password@host:port/database_name
DB_HOST=your-production-db-host.com
DB_PORT=5432
DB_NAME=drishti_production
DB_USER=drishti_api_user
DB_PASSWORD=your-secure-database-password
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000

# JWT Configuration (CRITICAL: Use strong, unique secrets)
JWT_ACCESS_SECRET=your-256-bit-access-token-secret-here-minimum-32-characters
JWT_REFRESH_SECRET=your-256-bit-refresh-token-secret-here-minimum-32-characters
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=drishti-api
JWT_AUDIENCE=drishti-mobile

# Session Configuration
SESSION_SECRET=your-session-secret-minimum-32-characters
SESSION_TIMEOUT=3600000
MAX_CONCURRENT_SESSIONS=5

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=5
ACCOUNT_LOCK_DURATION=3600000
MAX_FAILED_LOGIN_ATTEMPTS=5

# CORS Configuration
CORS_ORIGIN=https://your-production-domain.com,https://your-mobile-app-domain.com
CORS_CREDENTIALS=true

# SSL/TLS Configuration
HTTPS_ENABLED=true
SSL_CERT_PATH=/path/to/ssl/certificate.crt
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CA_PATH=/path/to/ssl/ca-bundle.crt
FORCE_HTTPS=true

# OAuth Configuration (Optional)
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_REDIRECT_URI=https://your-domain.com/auth/google/callback

APPLE_CLIENT_ID=your-apple-oauth-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY_PATH=/path/to/apple-private-key.p8

# Email Configuration (for verification and password reset)
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=Drishti

# Redis Configuration (for caching and rate limiting)
REDIS_URL=redis://username:password@host:port
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TLS=true

# Monitoring and Logging
LOG_LEVEL=info
LOG_FORMAT=json
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_TRACKING=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=5000

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=/secure/uploads

# API Rate Limiting
API_RATE_LIMIT_WINDOW=3600000
API_RATE_LIMIT_MAX=1000
AUTH_RATE_LIMIT_WINDOW=900000
AUTH_RATE_LIMIT_MAX=10

# Security Headers
ENABLE_HELMET=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true
CSP_REPORT_URI=https://your-domain.com/csp-report

# Database Backup Configuration
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_S3_BUCKET=your-backup-bucket

# Compliance and Privacy
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=2555
PRIVACY_POLICY_URL=https://your-domain.com/privacy
TERMS_OF_SERVICE_URL=https://your-domain.com/terms

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_OAUTH=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_BIOMETRIC_AUTH=true

# Performance Configuration
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6
ENABLE_ETAG=true
CACHE_CONTROL_MAX_AGE=3600

# Development and Debug (should be false in production)
DEBUG=false
ENABLE_SWAGGER=false
ENABLE_PLAYGROUND=false
ENABLE_INTROSPECTION=false
